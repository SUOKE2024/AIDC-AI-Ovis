# 索克生活APP - 数据集与训练集规范

## 目录

1. [概述](#概述)
2. [数据集分类](#数据集分类)
3. [中医特色数据集](#中医特色数据集)
4. [多模态数据集](#多模态数据集)
5. [训练集构建](#训练集构建)
6. [数据管理与存储](#数据管理与存储)
7. [数据处理流程](#数据处理流程)
8. [质量控制](#质量控制)
9. [数据集更新与版本控制](#数据集更新与版本控制)
10. [隐私与合规](#隐私与合规)

## 概述

索克生活APP依赖多种高质量数据集来构建知识图谱、训练AI模型和提供个性化健康服务。本文档规定了数据集的收集、存储、处理和应用标准，确保数据质量和系统性能。

## 数据集分类

索克生活APP使用的数据集主要分为以下几类：

### 核心健康数据集

| 数据集名称 | 描述 | 来源 | 格式 | 规模 | 用途 |
|------------|------|------|------|------|------|
| HealthCore | 基础健康指标数据 | 用户输入、设备同步 | JSON | 10GB+ | 健康评估、趋势分析 |
| MedicalReference | 医学参考数据 | 公开医学文献、合作医院 | JSON、XML | 50GB+ | 知识图谱构建、参考值比对 |
| DietNutrition | 饮食与营养数据 | 营养学数据库、食品成分表 | CSV、JSON | 5GB+ | 饮食建议、营养分析 |
| ExerciseActivity | 运动与活动数据 | 用户记录、运动设备 | JSON、时序数据 | 8GB+ | 活动推荐、运动计划 |

### 专业医学数据集

| 数据集名称 | 描述 | 来源 | 格式 | 规模 | 用途 |
|------------|------|------|------|------|------|
| MedicalDiagnosis | 医学诊断案例库 | 医疗机构合作、匿名化病例 | JSON、文本 | 30GB+ | 辅助诊断、知识图谱构建 |
| PharmaceuticalData | 药物与药理数据 | 药典、药物研究数据库 | XML、JSON | 15GB+ | 药物信息、相互作用分析 |
| EpidemiologyData | 流行病学数据 | 公共卫生数据、疾控中心 | CSV、JSON | 20GB+ | 疾病预防、风险评估 |

## 中医特色数据集

索克生活APP重点开发和应用以下中医特色数据集：

### 四诊合参数据集

| 数据集名称 | 描述 | 数据特点 | 采集方法 | 规模 | 应用场景 |
|------------|------|----------|----------|------|----------|
| TCM-Inspection | 望诊数据集 | 面色、舌象、形体特征 | 标准光照下摄像头采集 | 500,000+ 图像 | 面诊、舌诊分析 |
| TCM-Auscultation | 闻诊数据集 | 声音、气味特征 | 专业录音设备、电子鼻 | 100,000+ 音频样本 | 声音分析、气味特征识别 |
| TCM-Inquiry | 问诊数据集 | 症状描述、病史记录 | 结构化问诊表单、自然语言处理 | 1,000,000+ 文本记录 | 症状分析、病史关联 |
| TCM-Palpation | 切诊数据集 | 脉象特征、腹诊数据 | 脉诊仪、压力传感器 | 300,000+ 脉象记录 | 脉象分析、体表特征识别 |

### 中医知识体系数据集

| 数据集名称 | 描述 | 数据特点 | 来源 | 规模 | 应用场景 |
|------------|------|----------|------|------|----------|
| TCM-ClassicTexts | 中医经典文献 | 结构化中医典籍内容 | 中医古籍、现代注释版 | 全文本10GB+ | 知识图谱构建、引用分析 |
| TCM-Formulas | 方剂数据库 | 方剂组成、功效、用法 | 中医方剂学著作、临床验方 | 100,000+ 方剂 | 方剂推荐、组方分析 |
| TCM-Herbs | 中药材数据库 | 中药性味、归经、功效 | 中国药典、中药学著作 | 6,000+ 药材详情 | 药材识别、药性分析 |
| TCM-Syndromes | 证型数据库 | 证型特征、关联症状 | 中医诊断学资料、临床研究 | 1,000+ 证型详情 | 辨证分析、证型识别 |

### 临床案例数据集

| 数据集名称 | 描述 | 数据特点 | 来源 | 规模 | 处理方法 |
|------------|------|----------|------|------|----------|
| TCM-ClinicalCases | 中医临床案例 | 匿名化病例、诊疗记录 | 合作中医院、名医案例 | 50,000+ 案例 | 结构化提取、标准化编码 |
| TCM-EfficacyData | 疗效评估数据 | 治疗前后对比、随访记录 | 临床研究、治疗记录 | 30,000+ 记录 | 效果量化、统计分析 |
| TCM-MixedTherapy | 中西医结合案例 | 中西医协同治疗记录 | 中西医结合医院 | 20,000+ 案例 | 协同分析、比较研究 |

## 多模态数据集

### 生物声学数据集

| 数据集名称 | 描述 | 采集设备 | 数据格式 | 样本数量 | 特征提取 |
|------------|------|----------|----------|----------|----------|
| BioAcoustic-Voice | 语音特征数据集 | 高精度麦克风阵列 | WAV, 48kHz, 24bit | 100,000+ 样本 | MFCC、声谱图、音高轮廓 |
| BioAcoustic-BodySounds | 体内声音数据集 | 医用电子听诊器 | WAV, 96kHz, 32bit | 50,000+ 样本 | 频谱分析、小波变换 |
| BioAcoustic-Cough | 咳嗽声数据集 | 智能手机、专用录音设备 | MP3, OGG, WAV | 80,000+ 样本 | 持续时间、频率特征、能量分布 |
| BioAcoustic-Sleep | 睡眠声音数据集 | 床旁监测设备 | 压缩音频，特征向量 | 10,000+ 夜间记录 | 鼾声检测、呼吸模式分析 |

### 医学影像数据集

| 数据集名称 | 描述 | 影像类型 | 数据格式 | 规模 | 处理方法 |
|------------|------|----------|----------|------|----------|
| MedImage-Tongue | 舌象图像数据集 | 标准光照舌照 | PNG, JPEG, 高分辨率 | 200,000+ 图像 | 舌色分析、舌苔识别、纹理分析 |
| MedImage-Face | 面诊图像数据集 | 多角度面部照片 | PNG, RAW | 150,000+ 图像 | 面色识别、气色分析、特征点检测 |
| MedImage-BodyScans | 体表扫描数据集 | 红外、可见光多模态 | 多光谱数据 | 50,000+ 扫描 | 温度分布、循环特征、异常检测 |
| MedImage-Retina | 眼底图像数据集 | 高清眼底照片 | DICOM, 专业格式 | 80,000+ 图像 | 微血管分析、眼底特征提取 |

### 方言与文本数据集

| 数据集名称 | 描述 | 语言类型 | 数据格式 | 规模 | 预处理 |
|------------|------|----------|----------|------|--------|
| Dialect-Chinese | 中国方言数据集 | 七大方言区及子方言 | 音频+文本对 | 10,000小时 | 分词、注音、语义标注 |
| Dialect-Symptoms | 方言症状描述数据集 | 方言症状表达及标准翻译 | 结构化文本 | 100,000+ 条目 | 术语映射、语义编码 |
| Dialect-MedTerms | 方言医学术语数据集 | 地方医学用语及标准对应 | 词典格式 | 50,000+ 术语 | 术语标准化、概念映射 |
| Dialect-Interaction | 医患交流方言数据集 | 问诊对话、咨询交流 | 对话文本、音频 | 5,000小时 | 对话行为标注、意图识别 |

## 训练集构建

### 数据划分标准

为确保模型训练和评估的科学性，索克生活APP数据集采用以下划分标准：

- **训练集**：70% 的数据用于模型训练
- **验证集**：15% 的数据用于模型参数调优
- **测试集**：15% 的数据用于最终性能评估
- **专项测试集**：针对特定场景的额外测试样本

### 采样策略

- **分层抽样**：确保不同人群、年龄、性别、健康状况等特征在各子集中分布一致
- **时间序列分割**：对于纵向数据，按时间顺序分割，避免数据泄露
- **地域平衡**：确保不同地区的数据均衡代表
- **罕见案例增强**：对罕见疾病、证型进行过采样或数据增强

### 标注规范

- **多级标注**：至少两名专业人员独立标注，一名高级专家审核
- **标注一致性指标**：维持标注者间Kappa系数>0.8
- **标注工具**：使用标准化标注工具，记录标注过程
- **标注版本控制**：完整记录标注历史和修订

## 数据管理与存储

### 数据库表结构扩展

为支持多模态数据集，在现有数据库架构基础上增加以下表结构：

```sql
-- 多模态数据样本表
CREATE TABLE multimodal_data_samples (
  id TEXT PRIMARY KEY,
  dataset_id TEXT NOT NULL,
  sample_type TEXT NOT NULL,  -- 'audio', 'image', 'text', 'sensor', etc.
  metadata TEXT NOT NULL,     -- JSON格式的详细元数据
  features TEXT,              -- 预提取的特征向量
  embedding BLOB,             -- 向量化表示
  storage_path TEXT NOT NULL, -- 文件存储路径
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  quality_score REAL,         -- 质量评分
  FOREIGN KEY (dataset_id) REFERENCES datasets (id) ON DELETE CASCADE
);

-- 数据集定义表
CREATE TABLE datasets (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  version TEXT NOT NULL,
  description TEXT,
  category TEXT NOT NULL,     -- 'tcm', 'western', 'multimodal', etc.
  sample_count INTEGER,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  metadata TEXT               -- 数据集详细信息
);

-- 数据集拆分表
CREATE TABLE dataset_splits (
  id TEXT PRIMARY KEY,
  dataset_id TEXT NOT NULL,
  split_type TEXT NOT NULL,   -- 'training', 'validation', 'testing'
  sample_ids TEXT NOT NULL,   -- 逗号分隔的样本ID
  created_at INTEGER NOT NULL,
  FOREIGN KEY (dataset_id) REFERENCES datasets (id) ON DELETE CASCADE
);

-- 标注记录表
CREATE TABLE annotations (
  id TEXT PRIMARY KEY,
  sample_id TEXT NOT NULL,
  annotator_id TEXT NOT NULL,
  annotation_type TEXT NOT NULL,
  annotation_data TEXT NOT NULL, -- JSON格式的标注数据
  confidence REAL,              -- 标注置信度
  created_at INTEGER NOT NULL,
  reviewed BOOLEAN DEFAULT FALSE,
  reviewer_id TEXT,
  FOREIGN KEY (sample_id) REFERENCES multimodal_data_samples (id) ON DELETE CASCADE
);
```

### 存储策略

- **本地缓存层**：频繁访问的样本和提取特征存储在本地SQLite数据库
- **本地文件存储**：中等大小的数据文件存储在应用文件目录的结构化路径中
- **远程存储层**：原始数据集存储在云端服务器，按需下载
- **分布式存储**：超大规模数据集使用分布式存储解决方案

### 数据同步规范

- **差异化同步**：根据数据重要性和大小采用不同同步策略
- **样本优先级**：用户相关和高频访问样本优先同步
- **批量预取**：基于用户行为预测和预取相关数据样本
- **压缩传输**：使用高效压缩算法减少传输数据量

## 数据处理流程

### 数据收集

1. **设备采集**：支持通过移动设备、可穿戴设备和专业医疗设备采集原始数据
2. **接口导入**：支持从第三方健康平台和医疗系统导入数据
3. **手动录入**：通过结构化表单手动录入数据
4. **知识抽取**：从医学文献和临床指南中自动抽取知识

### 数据预处理

1. **数据清洗**：去除噪声、异常值和重复数据
2. **格式转换**：统一数据格式和编码标准
3. **特征提取**：计算相关特征和指标
4. **数据增强**：生成合成样本增加数据多样性
5. **隐私保护**：应用匿名化和去标识化处理

### 特征工程

1. **时间特征**：提取时间序列特征，如趋势、周期性和变化率
2. **频域特征**：声音和信号数据的频谱分析
3. **图像特征**：颜色分布、纹理特征和形态学特征
4. **文本特征**：语义向量、关键词和主题分布
5. **多模态融合**：不同模态数据的特征融合

## 质量控制

### 质量评估指标

- **完整性**：数据字段填充率和完整度
- **准确性**：与参考标准的一致程度
- **一致性**：内部数据的逻辑一致性
- **时效性**：数据的更新频率和时间戳有效性
- **表示性**：数据对目标人群的代表性

### 质量提升流程

1. **自动化检查**：数据导入时进行自动验证
2. **异常检测**：使用统计和机器学习方法识别异常值
3. **交叉验证**：通过不同来源的数据交叉验证
4. **专家审核**：关键数据集由领域专家审核
5. **用户反馈**：收集和整合用户关于数据质量的反馈

## 数据集更新与版本控制

### 版本管理

- **语义化版本号**：采用X.Y.Z格式，X为不兼容更新，Y为功能添加，Z为bug修复
- **变更日志**：详细记录每个版本的变更内容
- **数据血统**：记录数据的来源和转换历史
- **回滚机制**：支持数据集版本回滚

### 更新周期

- **定期更新**：主要数据集每季度更新一次
- **即时更新**：关键数据如医学指南变更时即时更新
- **增量更新**：支持大型数据集的增量更新
- **模型同步**：数据集更新后触发相关模型的再训练

## 隐私与合规

### 数据保护措施

- **匿名化处理**：移除个人身份标识符
- **数据分区**：敏感数据与非敏感数据分离存储
- **访问控制**：基于角色的精细化访问权限
- **数据脱敏**：在处理和展示时应用数据脱敏技术

### 合规框架

- **合规检查清单**：确保符合GDPR、HIPAA等隐私法规
- **知情同意管理**：记录和管理用户的知情同意
- **数据使用审计**：记录所有数据访问和使用情况
- **合规性报告**：定期生成合规性审计报告

---

本文档详细规定了索克生活APP使用的各类数据集和训练集的管理规范，为AI模型训练、知识图谱构建和健康服务提供高质量数据支持。所有开发人员和数据科学家必须遵循本规范进行数据处理和应用开发。 